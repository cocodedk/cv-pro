<table custom-style="CV Table" style="width: 100%; border-collapse: collapse; border: 0;">
    <colgroup>
        <col style="width: 28%;" />
        <col style="width: 72%;" />
    </colgroup>
    {% for category, skills in skills_by_category.items() %}
    <tr>
        <td style="vertical-align: top; border: 0; padding: 2px 8px 2px 0;">
            <p custom-style="Skill Category">{{ category }}</p>
        </td>
        <td style="vertical-align: top; border: 0; padding: 2px 0;">
            <p custom-style="Skill Items">
            {% for skill in skills -%}
                {%- if skill.level -%}
                    {%- if skill.level|lower == 'expert' -%}
                        <span custom-style="Skill Highlight">{{ skill.name }}</span>
                        <span custom-style="Skill Level"> · {{ skill.level }}</span>
                    {%- elif skill.level|lower in ['advanced', 'advance'] -%}
                        <strong>{{ skill.name }}</strong>
                        <span custom-style="Skill Level"> · {{ skill.level }}</span>
                    {%- else -%}
                        {{ skill.name }}
                        <span custom-style="Skill Level"> · {{ skill.level }}</span>
                    {%- endif -%}
                {%- else -%}
                    {{ skill.name }}
                {%- endif -%}
                {%- if not loop.last -%}, {% endif -%}
            {%- endfor %}
            </p>
        </td>
    </tr>
    {% endfor %}
</table>
